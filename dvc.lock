schema: '2.0'
stages:
  download:
    cmd: curl https://www.sqlitetutorial.net/wp-content/uploads/2018/03/chinook.zip
      --output data\chinook.zip
    deps:
    - path: https://www.sqlitetutorial.net/wp-content/uploads/2018/03/chinook.zip
      hash: md5
      checksum: '166007437711409482418900069603611846208'
      size: 305596
    outs:
    - path: data\chinook.zip
      hash: md5
      md5: 95b7b87de0ec059a407da6f7dc2888f7
      size: 305596
  unzip:
    cmd: tar -xf data\chinook.zip -C data
    deps:
    - path: data\chinook.zip
      hash: md5
      md5: 95b7b87de0ec059a407da6f7dc2888f7
      size: 305596
    outs:
    - path: data\chinook.db
      hash: md5
      md5: f2dd976ac500525eb862a008ba21609c
      size: 884736
  convert_to_graph:
    cmd: python convert_to_graph.py
    deps:
    - path: convert_to_graph.py
      hash: md5
      md5: bd88c0d6585a5b472fc2a85842e146b4
      size: 10982
    - path: data\chinook.db
      hash: md5
      md5: f2dd976ac500525eb862a008ba21609c
      size: 884736
    outs:
    - path: data\graph.bin
      hash: md5
      md5: 653edb7e63b1cf74066358a68a5f8ea6
      size: 996043
  train:
    cmd: python train.py
    deps:
    - path: data\graph.bin
      hash: md5
      md5: 653edb7e63b1cf74066358a68a5f8ea6
      size: 996043
    params:
      params.yaml:
        train:
          batch_size: 64
          learning_rate: 0.001
          hidden_channels: 55
